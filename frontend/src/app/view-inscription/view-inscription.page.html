<ion-content class="shadowed">
  <ion-header class="no-shadow">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
        <ion-back-button defaultHref="/app/inscriptions"></ion-back-button>
      </ion-buttons>
      <ion-title>
        Inscription <span *ngIf="!isLoading">#{{ inscription.id }}</span>
      </ion-title>
    </ion-toolbar>
  </ion-header>
  <div class="p-4">
    <div class="loading" *ngIf="isLoading">
      <ion-progress-bar type="indeterminate"></ion-progress-bar>
      <p>
        Loading inscription...
      </p>
    </div>
  </div>
  <div class="aligned" *ngIf="!isLoading">
    <ion-grid>
      <ion-row>
        <ion-col size-lg="6" size-xs="12">
          <div class="text-center">
            <img class="rounded" [src]="inscription.content_path" />
          </div>
          <div class="text-center p-2">
            <a class="color-teal" href="{{ inscription.content_path }}" target="_blank">
              Open content
            </a>
          </div>
        </ion-col>
        <ion-col size-lg="6" size-sm="8" size-xs="12">
          <ion-grid>
            <ion-row>
              <ion-col>
                <h1 class="mt-0">{{ inscription.name }}</h1>
                <p class="note">{{ inscription.description || "No description provided"}}</p>
              </ion-col>
            </ion-row>
            <ion-row class="break pt-3">
              <ion-col>
                <div class="meta">
                  <span class="label">Created by</span>
                  <a [routerLink]="['/app/inscriptions', inscription.creator ]">
                    <ion-chip>
                      <ion-avatar>
                        <img alt="Unknown avatar" src="../../assets/avatar.svg" />
                      </ion-avatar>
                      <ion-label>{{ inscription.creator | shortenAddress }}</ion-label>
                    </ion-chip>
                  </a>
                </div>
              </ion-col>
              <ion-col>
                <div class="meta">
                  <span class="label">Owned by</span>
                  <a [routerLink]="['/app/inscriptions', inscription.current_owner ]">
                    <ion-chip>
                      <ion-avatar>
                        <img alt="Unknown avatar" src="../../assets/avatar.svg" />
                      </ion-avatar>
                      <ion-label>{{ inscription.current_owner | shortenAddress }}</ion-label>
                    </ion-chip>
                  </a>
                </div>
              </ion-col>
            </ion-row>
            <ion-row class="pt-3">
              <ion-col>
                <div class="meta">
                  <span class="label">Created on</span>
                  <span class="value">{{ inscription.date_created | date:'longDate' }} {{ inscription.date_created |
                    date:'shortTime' }}</span>
                  <span class="value">Block {{ inscription.height | number: '1.0-0' }}</span>
                </div>
              </ion-col>
            </ion-row>
            <ion-row class="pt-3">
              <ion-col>
                <div class="meta">
                  <span class="label">Transaction</span>
                  <span class="value"><a href="{{ explorerTxUrl }}{{ inscription.transaction_hash }}" target="_blank">{{
                      inscription.transaction_hash }}</a></span>
                </div>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <div style="height: 100px;"></div>
</ion-content>