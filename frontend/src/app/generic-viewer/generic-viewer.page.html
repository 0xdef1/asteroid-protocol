<ion-content mode="md">
  <ion-grid>
    <ion-row>
      <ion-col class="branding">
        <ion-header class="no-shadow">
          <ion-toolbar>
            <ion-title>
              <a href="/">
                <img src="../../assets/logo/asteroid-white-transparent-narrow.png" />
              </a>
              <span class="ms-3" *ngIf="!isLoading">Inscription #{{ inscription.id-1 }} </span>
              <span class="m-0 p-0">
                <ion-button fill="clear" [href]="inscription.content_path" class="m-0" *ngIf="!isLoading">
                  Download <ion-icon name="cloud-download-outline" class="ps-2"></ion-icon></ion-button>
              </span>
            </ion-title>
          </ion-toolbar>
        </ion-header>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col offset="3" size="6">
        <div *ngIf="isLoading">
          <ion-progress-bar type="indeterminate"></ion-progress-bar>
        </div>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12">
        <div class="viewer text-center" [ngSwitch]="humanType" *ngIf="!isLoading">
          <img class="rounded" [src]="inscription.content_path" *ngSwitchCase="'Image'" />
          <video class="rounded" controls *ngSwitchCase="'Video'">
            <source [src]="inscription.content_path" [type]="inscription.mime">
            Video not supported by browser
          </video>
          <audio controls *ngSwitchCase="'Audio'">
            <source [src]="inscription.content_path" [type]="inscription.mime">
            <source [src]="inscription.content_path" type="audio/wav">
            Audio not supported by browser
          </audio>
          <iframe width="100%" height="100%" sandbox [src]="untrustedURL" *ngSwitchCase="'HTML'"></iframe>
          <markdown lineNumbers [src]="inscription.content_path" *ngSwitchCase="'Text'">
          </markdown>
          <div class="no-preview" *ngSwitchDefault>
            <p>No viewer available for {{ humanType }} content.</p>
            <ion-button fill="clear" [href]="inscription.content_path"> Download <ion-icon name="cloud-download-outline"
                class="ps-2"></ion-icon></ion-button>
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>