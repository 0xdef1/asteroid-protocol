<ion-content fullscreen="true">
  <ion-grid>
    <ion-row>
      <ion-col size="12" offset="0" size-md="12" offset-md="0" size-md="10" offset-md="1" size-xl="8" offset-xl="2">
        <ion-header class="no-shadow">
          <ion-toolbar>
            <ion-buttons slot="start">
              <ion-menu-button></ion-menu-button>
            </ion-buttons>
            <ion-title>
              CFT-20 Tokens
            </ion-title>
          </ion-toolbar>
        </ion-header>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12" offset="0" size-md="12" offset-md="0" size-md="10" offset-md="1" size-xl="8" offset-xl="2">


        <div class="aligned main-content">
          <div *ngIf="isLoading">
            <ion-progress-bar type="indeterminate"></ion-progress-bar>
          </div>

          <p-table #data [value]="tokens" [tableStyle]="{ 'min-width': '40rem' }" [paginator]="true" [rows]="10"
            [showCurrentPageReport]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} tokens" [globalFilterFields]="
            ['name', 'ticker' ]" styleClass="token-list">
            <ng-template pTemplate="caption">
              <div class="flex search">
                <div>
                  <ion-input fill="outline" #textInput label="Search" labelPlacement="stacked"
                    placeholder="Name or ticker" (input)="data.filterGlobal(textInput.value, 'contains')"><ion-icon
                      slot="end" name="search-outline" aria-hidden="true"></ion-icon></ion-input>
                </div>
              </div>
            </ng-template>
            <ng-template pTemplate="header">
              <tr>
                <th>&nbsp;</th>
                <th pSortableColumn="id" pFrozenColumn># <p-sortIcon field="id"></p-sortIcon></th>
                <th pSortableColumn="ticker" pFrozenColumn>Ticker <p-sortIcon field="ticker"></p-sortIcon></th>
                <th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
                <th pSortableColumn="price">Price <p-sortIcon field="price"></p-sortIcon></th>
                <th pSortableColumn="minted">Minted <p-sortIcon field="minted"></p-sortIcon></th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-token>
              <tr [routerLink]="['/app/token', token.ticker]">
                <td class="token-logo">
                  <div class="image">
                    <img [src]="token.content_path" *ngIf="token.content_path" />
                    <img class="no-logo" src="../../assets/logo/a-white-on-transparent-250.png"
                      *ngIf="!token.content_path" />
                  </div>
                </td>
                <td>{{ token.id }}</td>
                <td pFrozenColumn>{{ token.ticker }}</td>
                <td>{{ token.name }}</td>
                <td>$0.00</td>
                <td>40%</td>
              </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
              <tr>
                <td colspan="4">No tokens found.</td>
              </tr>
            </ng-template>
          </p-table>


          <!-- <div *ngIf="isLoading">
            <ion-progress-bar type="indeterminate"></ion-progress-bar>
          </div>
          <div class="list" *ngIf="!isLoading && tokens.length > 0">
            <a class="inscription-item main-content" [routerLink]="['/app/token', item.ticker]"
              *ngFor="let item of tokens; let index">
              <div class="content">
                <div class="image" *ngIf="item.content_path">
                  <img [src]="item.content_path" />
                </div>
                <div class="ticker" *ngIf="!item.content_path">{{ item.ticker }}</div>
              </div>
              <h4>#{{item.id - 1}} {{ item.ticker }}</h4>
              <div class="detail">
                <div class="detail-item">
                  <span>{{ item.name }}</span>
                </div>
                <div class="detail-item">
                  <span>Max Supply: {{ item.max_supply | tokenDecimals:item.decimals | humanSupply }}</span>
                </div>
                <div class="detail-item">
                  <span>{{ item.date_created | dateAgo }}</span>
                </div>
              </div>
            </a>

            <ion-infinite-scroll (ionInfinite)="onIonInfinite($event)">
              <ion-infinite-scroll-content></ion-infinite-scroll-content>
            </ion-infinite-scroll>
          </div> -->
          <div class="list" *ngIf="!isLoading && tokens.length == 0">
            No tokens found
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>